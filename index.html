<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Robot Eyes Expression Simulator</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .pupil {
      transition: all 0.3s ease;
    }
  </style>
</head>
<body class="bg-gray-900 text-white flex flex-col items-center justify-center min-h-screen p-4">
  <h1 class="text-3xl font-bold mb-6 text-center">ðŸ¤– Robot Eyes Expression Simulator</h1>

  <div class="w-full max-w-sm bg-gray-800 rounded-2xl p-6 shadow-lg relative">
    <div class="robot-face relative w-40 h-24 mx-auto mb-6 bg-gray-700 rounded-full flex justify-between px-4 py-6">
      <div class="eye w-12 h-12 bg-white rounded-full relative overflow-hidden">
        <div class="pupil left-pupil absolute w-6 h-6 bg-black rounded-full left-3 top-3"></div>
      </div>
      <div class="eye w-12 h-12 bg-white rounded-full relative overflow-hidden">
        <div class="pupil right-pupil absolute w-6 h-6 bg-black rounded-full left-3 top-3"></div>
      </div>
    </div>

    <div id="expressions" class="grid grid-cols-3 gap-2 mb-4"></div>

    <div class="flex justify-between space-x-2">
      <button id="blink-btn" class="bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded w-1/2">Blink</button>
      <button id="random-btn" class="bg-purple-500 hover:bg-purple-600 text-white py-2 px-4 rounded w-1/2">Random</button>
    </div>
  </div>

  <script>
    const expressions = [
      { name: "NEUTRAL", leftEye: "circle", rightEye: "circle", animate: false },
      { name: "HAPPY", leftEye: "circle", rightEye: "circle", animate: "bounce" },
      { name: "SAD", leftEye: "half", rightEye: "half", animate: "tear" },
      { name: "ANGRY", leftEye: "angle-down", rightEye: "angle-down", animate: "shake" },
      { name: "SURPRISED", leftEye: "big", rightEye: "big", animate: "pulse" },
      { name: "SLEEPY", leftEye: "sleepy", rightEye: "sleepy", animate: "slow-blink" },
      { name: "WINK", leftEye: "sleepy", rightEye: "circle", animate: false },
      { name: "CROSSED", leftEye: "cross", rightEye: "cross", animate: false },
      { name: "FOLLOW", leftEye: "circle", rightEye: "circle", animate: "follow" }
    ];

    const leftPupil = document.querySelector('.left-pupil');
    const rightPupil = document.querySelector('.right-pupil');
    const expressionsContainer = document.getElementById('expressions');
    const blinkBtn = document.getElementById('blink-btn');
    const randomBtn = document.getElementById('random-btn');

    let currentExpression = "NEUTRAL";
    let animationInterval = null;

    expressions.forEach(exp => {
      const button = document.createElement('button');
      button.className = 'expression-btn bg-gray-600 hover:bg-gray-700 text-sm px-2 py-1 rounded text-white';
      button.textContent = exp.name;
      button.dataset.expression = exp.name;
      if (exp.name === "NEUTRAL") button.classList.add('bg-blue-600');

      button.addEventListener('click', () => {
        setExpression(exp.name);
        document.querySelectorAll('.expression-btn').forEach(btn => {
          btn.classList.remove('bg-blue-600');
        });
        button.classList.add('bg-blue-600');
      });

      expressionsContainer.appendChild(button);
    });

    function setExpression(expressionName) {
      clearInterval(animationInterval);
      animationInterval = null;
      document.removeEventListener('mousemove', trackMouse);

      currentExpression = expressionName;
      const expression = expressions.find(exp => exp.name === expressionName);
      if (!expression) return;

      setEyeShape(leftPupil, expression.leftEye);
      setEyeShape(rightPupil, expression.rightEye);

      if (expression.animate) startAnimation(expression.animate);
    }

    function setEyeShape(pupilElement, shape) {
      pupilElement.style = '';
      pupilElement.className = pupilElement.classList.contains('left-pupil') ? 'pupil left-pupil' : 'pupil right-pupil';
      pupilElement.innerHTML = '';

      switch (shape) {
        case "circle":
          pupilElement.classList.add('bg-black', 'w-6', 'h-6', 'rounded-full', 'left-3', 'top-3');
          break;
        case "half":
          pupilElement.style.borderTop = "6px solid black";
          pupilElement.style.borderRadius = "0 0 50% 50%";
          pupilElement.style.width = "20px";
          pupilElement.style.height = "10px";
          pupilElement.style.top = "12px";
          pupilElement.style.left = "6px";
          break;
        case "angle-down":
          pupilElement.style.transform = "rotate(45deg)";
          pupilElement.style.width = "20px";
          pupilElement.style.height = "4px";
          pupilElement.style.backgroundColor = "black";
          pupilElement.style.top = "12px";
          pupilElement.style.left = "4px";
          break;
        case "big":
          pupilElement.classList.add('bg-black', 'w-8', 'h-8', 'rounded-full', 'left-2', 'top-2');
          break;
        case "sleepy":
          pupilElement.style.borderBottom = "4px solid black";
          pupilElement.style.width = "20px";
          pupilElement.style.height = "4px";
          pupilElement.style.top = "15px";
          pupilElement.style.left = "6px";
          break;
        case "cross":
          pupilElement.innerHTML = '<div class="absolute w-1 h-6 bg-black transform rotate-45 left-2 top-0.5"></div><div class="absolute w-1 h-6 bg-black transform -rotate-45 left-2 top-0.5"></div>';
          break;
        default:
          pupilElement.classList.add('bg-black', 'w-6', 'h-6', 'rounded-full', 'left-3', 'top-3');
      }
    }

    function startAnimation(type) {
      clearInterval(animationInterval);
      document.removeEventListener('mousemove', trackMouse);

      switch (type) {
        case "bounce":
          animationInterval = setInterval(() => {
            leftPupil.style.transform = "translateY(-5px)";
            rightPupil.style.transform = "translateY(-5px)";
            setTimeout(() => {
              leftPupil.style.transform = "translateY(0)";
              rightPupil.style.transform = "translateY(0)";
            }, 200);
          }, 600);
          break;
        case "shake":
          animationInterval = setInterval(() => {
            leftPupil.style.transform = "translateX(-3px)";
            rightPupil.style.transform = "translateX(3px)";
            setTimeout(() => {
              leftPupil.style.transform = "translateX(0)";
              rightPupil.style.transform = "translateX(0)";
            }, 100);
          }, 300);
          break;
        case "pulse":
          animationInterval = setInterval(() => {
            leftPupil.style.transform = "scale(1.3)";
            rightPupil.style.transform = "scale(1.3)";
            setTimeout(() => {
              leftPupil.style.transform = "scale(1)";
              rightPupil.style.transform = "scale(1)";
            }, 200);
          }, 800);
          break;
        case "slow-blink":
          animationInterval = setInterval(() => {
            leftPupil.style.height = "4px";
            rightPupil.style.height = "4px";
            setTimeout(() => {
              leftPupil.style.height = "20px";
              rightPupil.style.height = "20px";
            }, 400);
          }, 2500);
          break;
        case "tear":
          animationInterval = setInterval(() => {
            const tearDrop = document.createElement('div');
            tearDrop.style.position = 'absolute';
            tearDrop.style.width = '6px';
            tearDrop.style.height = '10px';
            tearDrop.style.backgroundColor = '#2ecc71';
            tearDrop.style.borderRadius = '50%';
            tearDrop.style.left = '75px';
            tearDrop.style.top = '70px';
            tearDrop.style.opacity = '1';
            tearDrop.style.transition = 'top 1s ease, opacity 1s ease';

            document.querySelector('.robot-face').appendChild(tearDrop);

            setTimeout(() => {
              tearDrop.style.top = '120px';
              tearDrop.style.opacity = '0';
            }, 50);

            setTimeout(() => {
              tearDrop.remove();
            }, 1050);
          }, 2000);
          break;
        case "follow":
          document.addEventListener('mousemove', trackMouse);
          break;
      }
    }

    function trackMouse(e) {
      const faceRect = document.querySelector('.robot-face').getBoundingClientRect();
      const centerX = faceRect.left + faceRect.width / 2;
      const centerY = faceRect.top + faceRect.height / 2;
      const dx = (e.clientX - centerX) / 20;
      const dy = (e.clientY - centerY) / 20;
      leftPupil.style.left = `${35 + dx}px`;
      leftPupil.style.top = `${35 + dy}px`;
      rightPupil.style.left = `${35 + dx}px`;
      rightPupil.style.top = `${35 + dy}px`;
    }

    blinkBtn.addEventListener('click', () => {
      const originalLeftHeight = leftPupil.style.height;
      const originalRightHeight = rightPupil.style.height;
      leftPupil.style.height = '5px';
      rightPupil.style.height = '5px';
      setTimeout(() => {
        leftPupil.style.height = originalLeftHeight;
        rightPupil.style.height = originalRightHeight;
      }, 250);
    });

    randomBtn.addEventListener('click', () => {
      const randomIndex = Math.floor(Math.random() * expressions.length);
      const randomExp = expressions[randomIndex];
      setExpression(randomExp.name);
      document.querySelectorAll('.expression-btn').forEach(btn => {
        btn.classList.remove('bg-blue-600');
        if (btn.dataset.expression === randomExp.name) {
          btn.classList.add('bg-blue-600');
        }
      });
    });

    // Set default
    setExpression("NEUTRAL");
  </script>
</body>
</html>
