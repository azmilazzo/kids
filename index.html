<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Robot Eyes Expression Simulator</title>
  <style>
    body {
      background-color: black;
      color: #00ffcc;
      font-family: monospace;
      text-align: center;
      margin: 0;
      padding: 0;
    }

    canvas {
      background-color: #000;
      border: 3px solid #00ffcc;
      display: block;
      margin: 1em auto;
      image-rendering: pixelated;
    }

    button {
      margin: 0.5em;
      padding: 0.5em 1em;
      background: #003f3f;
      color: #00ffcc;
      border: 2px solid #00ffcc;
      cursor: pointer;
    }

    button:hover {
      background: #005f5f;
    }
  </style>
</head>
<body>
  <h1>Robot Eyes OLED Simulator</h1>
  <canvas id="oled" width="240" height="80"></canvas>
  <div>
    <button onclick="setExpression('neutral')">Neutral</button>
    <button onclick="setExpression('happy')">Happy</button>
    <button onclick="setExpression('angry')">Angry</button>
    <button onclick="setExpression('sad')">Sad</button>
    <button onclick="setExpression('tired')">Tired</button>
    <button onclick="setExpression('skeptical')">Skeptical</button>
  </div>

  <script>
    const canvas = document.getElementById('oled');
    const ctx = canvas.getContext('2d');
    ctx.font = "32px monospace";
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";

    let currentExpression = 'neutral';
    let blinkTimer = 0;
    let blinkInterval = randomInterval();
    let teardropY = 40;
    let teardropDirection = 1;
    let tiredZ = '';
    let zTimer = 0;
    let skepticalOffset = 0;

    function randomInterval() {
      return 2000 + Math.random() * 3000;
    }

    function setExpression(expression) {
      currentExpression = expression;
      blinkTimer = 0;
      teardropY = 40;
      tiredZ = '';
      zTimer = 0;
      skepticalOffset = 0;
    }

    function drawBlinkingEyes(base) {
      if (blinkTimer < 200) {
        ctx.fillText('-', canvas.width / 2, canvas.height / 2);
      } else {
        ctx.fillText(base, canvas.width / 2, canvas.height / 2);
      }
    }

    function drawSadEyes() {
      ctx.fillText('T_T', canvas.width / 2, canvas.height / 2);
      // Teardrop animation
      ctx.fillStyle = '#00ffff';
      ctx.beginPath();
      ctx.arc(canvas.width / 2 - 30, teardropY, 3, 0, 2 * Math.PI);
      ctx.arc(canvas.width / 2 + 30, teardropY, 3, 0, 2 * Math.PI);
      ctx.fill();
      ctx.fillStyle = '#00ffcc';
      teardropY += 0.5 * teardropDirection;
      if (teardropY > 60 || teardropY < 40) teardropDirection *= -1;
    }

    function drawTiredEyes() {
      ctx.fillText('-_-', canvas.width / 2, canvas.height / 2);
      // Zzz animation
      zTimer++;
      if (zTimer % 60 === 0) tiredZ += 'Z';
      if (tiredZ.length > 3) tiredZ = '';
      ctx.font = "16px monospace";
      ctx.fillText(tiredZ, canvas.width - 30, 20);
      ctx.font = "32px monospace";
    }

    function drawSkepticalEyes() {
      // O_o bounce
      skepticalOffset += 0.1;
      let offset = Math.sin(skepticalOffset) * 2;
      ctx.fillText('O_o', canvas.width / 2 + offset, canvas.height / 2);
    }

    function render() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      switch (currentExpression) {
        case 'neutral':
          drawBlinkingEyes('o_o');
          break;
        case 'happy':
          drawBlinkingEyes('^^');
          break;
        case 'angry':
          drawBlinkingEyes('ꐦ¬_¬');
          break;
        case 'sad':
          drawSadEyes();
          break;
        case 'tired':
          drawTiredEyes();
          break;
        case 'skeptical':
          drawSkepticalEyes();
          break;
      }

      blinkTimer += 16;
      if (blinkTimer > blinkInterval) {
        blinkTimer = 0;
        blinkInterval = randomInterval();
      }

      requestAnimationFrame(render);
    }

    render();
  </script>
</body>
</html>
